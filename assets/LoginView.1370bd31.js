import{d as k,r as s,c as x,a as o,w as t,b as C,o as h,V as _,e as d,f as B,g as M,h as r,t as R,u as S,s as q,i as z,_ as E}from"./index.db168f35.js";import{V as L,a as U}from"./VSnackbar.e077e5d5.js";const D={class:"d-flex align-center justify-center h-screen mx-5"},N=r("Login"),P={class:"d-flex justify-center"},$=r("Don't have an account ?"),j=r("Register"),F=r(" Close "),I=k({__name:"LoginView",setup(T){const V=S(),m=s(null),i=s(!1),n=s(!1),g=async()=>{m.value=null,i.value=!0,n.value=!1;try{const{error:e}=await q.auth.signIn({email:v.value,password:p.value});if(e)throw e;V.push({name:"home"})}catch(e){m.value=e.message,n.value=!0}i.value=!1},c=s(!0),v=s(""),w=[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],u=s(!1),p=s(""),b=[e=>!!e||"Password is required",e=>e.length>=8||"Min 8 characters"];return(e,a)=>{const y=z("router-link");return h(),x("div",D,[o(L,{onSubmit:C(g,["prevent"]),ref:"form",modelValue:c.value,"onUpdate:modelValue":a[5]||(a[5]=l=>c.value=l),"lazy-validation":""},{default:t(()=>[o(_,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=l=>v.value=l),modelModifiers:{trim:!0},rules:w,type:"email",label:"E-mail","prepend-icon":"mdi-email",required:"",clearable:"",variant:"outlined"},null,8,["modelValue"]),o(_,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=l=>p.value=l),modelModifiers:{trim:!0},type:u.value?"text":"password","append-icon":u.value?"mdi-eye":"mdi-eye-off","onClick:append":a[2]||(a[2]=l=>u.value=!u.value),rules:b,variant:"outlined",label:"Password","prepend-icon":"mdi-lock",counter:"",required:"",clearable:""},null,8,["modelValue","type","append-icon"]),o(d,{type:"submit",disabled:!c.value||i.value,loading:i.value,color:"success",class:"w-100 mb-5",size:"large"},{default:t(()=>[N]),_:1},8,["disabled","loading"]),o(y,{to:{name:"register"},custom:""},{default:t(({href:l,navigate:f})=>[B("div",P,[o(d,{href:l,onClick:f,color:"blue",variant:"text",size:"small"},{default:t(()=>[$]),_:2},1032,["href","onClick"]),o(d,{href:l,onClick:f,color:"blue",variant:"outlined",size:"small"},{default:t(()=>[j]),_:2},1032,["href","onClick"]),M(e.$slots,"default",{},void 0,!0)])]),_:3}),o(U,{modelValue:n.value,"onUpdate:modelValue":a[4]||(a[4]=l=>n.value=l),color:"error"},{actions:t(()=>[o(d,{variant:"text",onClick:a[3]||(a[3]=l=>n.value=!1)},{default:t(()=>[F]),_:1})]),default:t(()=>[r(R(m.value)+" ",1)]),_:1},8,["modelValue"])]),_:3},8,["onSubmit","modelValue"])])}}});const H=E(I,[["__scopeId","data-v-e48f12fa"]]);export{H as default};
